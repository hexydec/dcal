const $=function a(b,c){if(this instanceof a){let d,e=[];if(b)if("string"!=typeof b){if(b instanceof a)return b;b.nodeType?-1<[1,9,11].indexOf(b.nodeType)&&(e=[b]):$.isWindow(b)?e=[b]:$.isFunction(b)?"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>b.call(document,$),{once:!0}):b.call(document,$):e=Array.from(b).filter((a,b,c)=>c.indexOf(a)===b&&(-1<[1,9,11].indexOf(a.nodeType)||$.isWindow(a)))}else if("<"===b[0])null===(d=b.match(/^<([a-z0-9]+)(( ?\/)?|><\/\1)>$/i))?e=$.parseHTML(b,c||document,!0):(e=[document.createElement(d[1])],$.isPlainObject(c)&&$(e).attr(c));else if(c?"string"==typeof c?c=[document.querySelector(c)]:c.nodeType&&(c=[c]):c=[document],c.length)for(let a=c.length;a--;)e=Array.from(c[a].querySelectorAll(b)).concat(e);let f=e.length;for(this.length=f;f--;)this[f]=e[f];return this}return new a(b,c)};$.fn=$.prototype,$.each=(a,b)=>{const c=Array.isArray(a),d=Object.keys(a),e=d.length;for(let f=0;f<e&&!(!1===b.call(a[d[f]],c?parseInt(d[f]):d[f],a[d[f]]));f++);return a},$.fn.each=function(a){return $.each(Array.from(this),a),this},$.isWindow=a=>null!==a&&a===a.window,$.isFunction=a=>a&&a.constructor===Function,$.parseHTML=(a,b,c=!1)=>{"boolean"==typeof b&&(c=b,b=null),b||(b=document.implementation.createHTMLDocument(""));const d=b.createElement("div");return d.innerHTML=a,c&&-1<a.indexOf("<script")&&Array.from(d.querySelectorAll("script")).forEach(a=>{const c=a.getAttribute("src"),d=b.createElement("script");c?d.src=c:d.text=a.innerText,b.head.appendChild(d)}),Array.from(d.children)},$.isPlainObject=a=>{if(null!==a&&"object"==typeof a){if("function"==typeof Object.getPrototypeOf){let b=Object.getPrototypeOf(a);return b===Object.prototype||null===b}return"[object Object]"===Object.prototype.toString.call(a)}return!1},$.extend=(...a)=>{if(!0===a[0]){function b(a,...c){if(c.length){const d=c.shift();return $.isPlainObject(a)&&$.isPlainObject(d)&&$.each(d,(c,d)=>{a[c]=$.isPlainObject(d)?$.isPlainObject(a[c])?b(a[c],d):d:d}),b(a,...c)}return a}return b.apply(null,a.slice(1))}return Object.assign.apply(null,a)},$.param=a=>{let b=[],c=(a,b,d)=>{let e=Array.isArray(b);return e||"object"==typeof b?$.each(b,(b,f)=>{d=c(`${a}[${e?"":b}]`,f,d)}):($.isFunction(b)&&(b=b()),d.push(encodeURIComponent(a)+"="+encodeURIComponent(null===b?"":b))),d};return $.each(a,(a,d)=>{b=c(a,d,b)}),b.join("&")},$.ajax=(a,b)=>{null!==a&&"object"==typeof a?b=a:("object"!=typeof b&&(b={}),b.url=a),b=Object.assign({method:"GET",cache:null,data:null,dataType:null,async:!0,crossDomain:!1,scriptAttrs:{},jsonp:"callback",jsonpCallback:"dabby"+Date.now(),headers:{"X-Requested-With":"XMLHttpRequest"},xhr:()=>new XMLHttpRequest,contentType:null,context:null,statusCode:{},username:null,password:null,xhrFields:{}},b),null==b.url&&(b.url=location.href),b.dataType||"js"!==b.url.split("?")[0].split(".").pop()||(b.dataType="script");let c,d,e=-1<["script","jsonp"].indexOf(b.dataType),f=-1<b.url.indexOf("?")?"&":"?";if(b.data&&(d=$.isPlainObject(b.data)?$.param(b.data):b.data,"GET"===b.method&&(b.url+=f+d,f="&",d=null)),(b.cache||null===b.cache&&e)&&(b.url+=f+"_="+ +new Date,f="&"),e||b.crossDomain)c=document.createElement("script"),$.each(b.scriptAttrs,(a,b)=>{c.setAttribute(a,b)}),"jsonp"===b.dataType&&(b.url+=f+b.jsonp+"="+b.jsonpCallback),$.each({load:"success",error:"error"},(a,d)=>{c.addEventListener(a,()=>{const a="jsonp"===b.dataType?window[b.jsonpCallback]||null:null;[b[d],b.complete].forEach(c=>{c&&c.apply(b.context||b,c===b.complete?[null,d]:[a,d])})},{once:!0})}),c.src=b.url,c.async=b.async,document.head.appendChild(c);else{const a=b.xhr(),c=(a,c,d)=>{let e=a.responseText;if(-1<["json",null,void 0].indexOf(b.dataType))try{e=JSON.parse(e)}catch(a){}[b.statusCode[a.status],b[c],b.complete].forEach((c,f)=>{c&&c.apply(b.context||b,2>f?[e,d,a]:[a,d])})};return $.each(b.xhrFields,(b,c)=>a[b]=c),a.onload=()=>{const b=-1<[200,204,304].indexOf(a.status)?"success":"error";c(a,b,b)},a.ontimeout=()=>{c(a,"error","timeout")},a.onabort=()=>{c(a,"error","abort")},a.onerror=()=>{c(a,"error","error")},a.open(b.method,b.url,b.async,b.username,b.password),"string"!=typeof d||b.contentType||(b.contentType="application/x-www-form-urlencoded; charset=UTF-8"),b.contentType&&(b.headers["Content-Type"]=b.contentType),$.each(b.headers,(b,c)=>{a.setRequestHeader(b,c)}),a.send(d),a}},["get","post"].forEach(a=>{$[a]=(b,c,d,e)=>{const f=$.isFunction(c);let g=null!==b&&"object"==typeof b?b:{url:b,data:f?{}:c,success:f?c:d,dataType:f?d:e};return g.method=a.toUpperCase(),$.ajax(g)}}),$.getScript=(a,b)=>$.ajax({url:a,dataType:"script",success:b});var a=(a,b,c,d)=>{let e,f=a.nodeType?[a]:Array.from(a);return"boolean"==typeof c&&(d=c,c=null),$.isFunction(b)?e=b:(b="string"==typeof b?[b]:Array.from($(b,c)),e=(a,c)=>{for(let d=b.length;d--;)if("string"==typeof b[d]&&c.matches?c.matches(b[d]):c===b[d])return!0;return!1}),f.filter((a,b)=>e.call(a,b,a)===!d,f)};["filter","not","is"].forEach(b=>{$.fn[b]=function(c){const d=a(this,c,"not"===b);return"is"===b?!!d.length:$(d)}}),$.fn.load=function(a,b,c){if(this[0]){a=a.split(" ",2);const d=a[0],e=a[1];$.isFunction(b)&&(c=b,b=void 0),$.ajax(d,{data:b,type:b instanceof Object?"POST":"GET",success:(a,b,d)=>{let f="",g=this.length;if(f=e?$(a,this[0].ownerDocument).filter(e):a,this.append(f),c)for(;g--;)c.call(this[g],a,b,d)}})}return this};var b=(a,b,c)=>{let d=a.length,e=[];if(d){const f=$.isFunction(b),g=f?0:$.isPlainObject(b),h=$.isFunction(c);for(;d--;)e[d]=f?b.call(a[d],d,h?c(a[d]):c):g?Object.create(b):b}return e};$.map=(a,b)=>{let c=[];return $.each(a,(a,d)=>{const e=b.call(window,d,a);null!=e&&(c=c.concat(Array.isArray(e)?e:[e]))}),c},$.fn.val=function(a){if(a!==void 0){for(let c=this.length,d=b(this,a,a=>a.val());c--;){const a=Array.isArray(d[c]);-1<this[c].type.indexOf("select")?(d[c]=(a?d[c]:[d[c]]).map(a=>""+a),$("option",this[c]).each((a,b)=>{b.selected=-1<d[c].indexOf(b.value||b.text)})):a?this[c].checked=-1<d[c].indexOf(this[c].value):this[c].value=d[c]}return this}if(this[0]){if("select-multiple"===this[0].type){let a=[];return $("option",this[0]).each((b,c)=>{c.selected&&a.push(""+c.value)}),a}if("checkbox"!==this[0].type||this[0].checked)return""+this[0].value}},$.fn.serialize=function(){const a=(b,c,d)=>{let e;if(null!==(e=b.match(/([^\[]*)\[([^\]]*)\](.*)/))){b=e[1];let f=a(e[2]+e[3],c,d[b]||{});c=f}return""===b?(!Array.isArray(d)&&(d=[]),d=d.concat(Array.isArray(c)?c:[c])):d[b]=c,d};let b=this.filter("input[name]:not([type=file]):not([type=submit]):not([type=radio]):not([type=checkbox]),input[name]:checked,textarea[name],select[name]");b.length||(b=$("input[name]:not([type=file]):not([type=submit]):not([type=radio]):not([type=checkbox]),input[name]:checked,textarea[name],select[name]",this));let c={};return b.each((b,d)=>{const e=$(d).val();d.disabled||void 0===e||(c=a(d.name,e,c))}),$.param(c)},$.fn.get=function(a){return a===void 0?Array.from(this):this[0<=a?a:a+this.length]},$.fn.add=function(a,b){return a=$(a,b).get(),$(Array.from(this).concat(a))},["parent","parents","parentsUntil"].forEach(b=>{const c=-1<b.indexOf("s"),d=-1<b.indexOf("U");$.fn[b]=function(b,e){let f=[],g=this.length;for(;g--;)for(let e=this[g].parentNode;e&&e.nodeType===Node.ELEMENT_NODE&&!(d&&a(e,b).length)&&(f.push(e),!!c);)e=e.parentNode;return d||(e=b),$(e?a(f,e):f)}}),["on","one"].forEach(a=>{$.fn[a]=function(b,c,d,e){if(this.length){if($.isFunction(c)?(e=c,c=void 0):$.isFunction(d)&&(e=d,d=void 0),!$.isPlainObject(b)){const a=b;b={},b[a]=e}for(let f=this.length;f--;)this[f].events||(this[f].events=[]),$.each(b,(b,g)=>{b.split(" ").forEach(b=>{const e={event:b,selector:c,data:d,callback:g,func:a=>{const b=c?$(c,a.currentTarget).filter(a.target).get():[a.currentTarget];if(b.length){a.data=d;for(let c=0,d=b.length;c<d;c++)!1===g.call(b[c],a,a.args)&&(a.preventDefault(),a.stopPropagation())}},once:"one"===a};this[f].events.push(e),this[f].addEventListener(b,e.func,{once:"one"===a,capture:!!c})})})}return this}});var c=["focusin","focusout","focus","blur","resize","scroll","unload","click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","contextmenu","change","select","keydown","keypress","keyup","error","submit"];$.fn.attr=function(a,d){let e="string"!=typeof a,f={};return e||void 0!==d?(e||(f[a]=d,a=f),$.each(a,(a,d)=>{if(-1<c.indexOf(a))this.on(a,d);else for(let c=this.length,e=b(this,d,b=>$(b).attr(a));c--;)"style"===a?this[c].style.cssText=e[c]:"class"===a?this[c].className=e[c]:"text"===a?this[c].textContent=e[c]:null===e[c]?this[c].removeAttribute(a):this[c].setAttribute(a,e[c])}),this):this.length?"style"===a?this[0].style.cssText:"class"===a?this[0].className:this[0].getAttribute(a):void 0};const d=[];["removeClass","addClass","toggleClass"].forEach((a,c)=>{d.push(a.substr(0,a.length-5)),$.fn[a]=function(e,f){if(this.length){let g=this.length,h=b(this,e,a=>a.className),i=c;for("toggleClass"===a&&"boolean"==typeof f&&(i=0+f);g--;){"string"==typeof h[g]&&(h[g]=h[g].split(" "));for(let a=0,b=h[g].length;a<b;a++)this[g].classList[d[i]](h[g][a])}}return this}});var e=a=>a.replace(/-([\w])/g,(a,b)=>b.toUpperCase()),f=(a,c,d)=>{if("string"==typeof c){const a=c;c={},c[a]=d}let f={};return $.each(c,(c,d)=>{f[e(c)]=b(a,d,a=>a.style[c])}),$.each(f,(b,c)=>{for(let d=a.length;d--;)a[d].style[b]=c[d]+(!c[d]||isNaN(c[d])?"":"px")}),a};$.fn.css=function(a,b){if(b!==void 0||$.isPlainObject(a))return f(this,a,b);if(this[0]){let b,c=a,d=getComputedStyle(this[0],""),f={},g=!1;for("string"==typeof c&&(a=[c],g=!0),b=a.length;b--;)if(f[a[b]]=d[e(a[b])],g)return f[a[b]];return f}},$.fn.data=function(a,b){if("object"==typeof a)b=a;else if(b!==void 0){let c={};c[a]=b,b=c}if(void 0!==b){for(let a=this.length;a--;)$.each(b,(b,c)=>{this[a].dataset[e(b)]="object"==typeof c?JSON.stringify(c):c});return this}if(this[0]&&this[0].dataset){let b=a=>{try{return JSON.parse(a)}catch(b){return a}};if(void 0===a){let a={};return $.each(this[0].dataset,(c,d)=>{a[c]=b(d)}),a}if(a=e(a),this[0].dataset.hasOwnProperty(a))return b(this[0].dataset[a])}},$.fn.hasClass=function(a){for(let b=this.length;b--;)if(this[b].classList.contains(a))return!0;return!1};var g=a=>{return{for:"htmlFor",class:"className",tabindex:"tabIndex",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"}[a.toLowerCase()]||a};$.fn.prop=function(a,c){const d=$.isPlainObject(a);if(c!==void 0||d){if(this[0]){if(!d){const b={};b[a]=c,a=b}$.each(a,(a,c)=>{c=b(this,c,b=>b[a]),a=g(a);for(let b=this.length;b--;)this[b][a]=c[b]})}return this}return this[0]?this[0][g(a)]:void 0},$.fn.removeProp=function(a){let b=this.length;for(a=g(a);b--;)delete this[b][a];return this};const h=[],j=[],k=[],l=["none","block"];["hide","show","toggle"].forEach((a,b)=>{$.fn[a]=function(a){2===b&&a!==void 0&&(b=parseInt(a));for(let c=this.length;c--;){let a=j.indexOf(this[c]),d=-1<a&&2>b?null:getComputedStyle(this[c]).display;-1===a&&(a=j.length,j.push(this[c]),h.push(d),k.push(this[c].style.display));let e=l[b]||("none"===d?"block":"none");"none"!==e&&"none"!==h[a]&&(e=h[a]),this[c].style.display=e===h[a]?k[a]:e}return this}}),$.fn.map=function(a){let b=this.length,c=[],d=0;for(;d<b;d++)c.push(a.call(this[d],d,this[d]));return c},$.fn.offset=function(a){if(a){let c=b(this,a,a=>a.offset()),d=this.length;for(;d--;){let a=getComputedStyle(this[d]).position;"static"===a&&(c[d].position=a="relative");const b=this[d]["relative"===a?"parentNode":"offsetParent"];if($.each($(b).offset(),(a,b)=>c[d][a]-=b),"relative"===a){const a=getComputedStyle(b);c[d].top-=parseFloat(a.paddingTop)+parseFloat(a.borderTopWidth),c[d].left-=parseFloat(a.paddingLeft)+parseFloat(a.borderLeftWidth)}}for(d=this.length;d--;)$.each(c[d],(a,b)=>this[d].style[a]=b+(isNaN(b)?"":"px"));return this}if(this[0]){const a=document.documentElement,b="fixed"===this[0].style.position,c=this[0].getBoundingClientRect();return{top:c.top+(b?0:a.scrollTop),left:c.left+(b?0:a.scrollLeft)}}},$.fn.offsetParent=function(){return $(this[0]?this[0].offsetParent:null)},$.fn.position=function(){if(this[0])return{left:this[0].offsetLeft,top:this[0].offsetTop}},["scrollLeft","scrollTop"].forEach(a=>{$.fn[a]=function(c){const d="scrollTop"===a;if(c!==void 0){for(let e=this.length,f=d?"top":"left",g=b(this,c,b=>b[a]);e--;)if($.isWindow(this[e])){let a={};a[f]=g[e],this[e].scroll(a)}else this[e][a]=g[e];return this}if(this[0]){let b=a;return $.isWindow(this[0])&&(b=d?"pageYOffset":"pageXOffset"),this[0][b]}}}),["width","height","innerWidth","innerHeight","outerWidth","outerHeight"].forEach(a=>{$.fn[a]=function(c){const d=-1<a.indexOf("d"),e=d?"width":"height",f=d?"Width":"Height",g=-1<a.indexOf("inner")?"inner":-1<a.indexOf("outer")?"outer":"",h=[d?"Left":"Top",d?"Right":"Bottom"];if(c!==void 0&&"boolean"!=typeof c){for(let d,f=b(this,c,b=>b[a]),j=this.length,i=[];j--;)g&&(h.forEach(a=>{i.push("padding"+a),"outer"===g&&i.push("border"+a+"Width")}),isNaN(f[j])&&-1===f[j].indexOf("px")&&(this[j].style[e]=f[j],i.push(e),f[j]=0),d=getComputedStyle(this[j]),i.forEach(a=>f[j]-=parseFloat(d[a]))),this[j].style[e]=f[j]+(isNaN(f[j])?"":"px");return this}if(this[0]){if(this[0].nodeType===Node.DOCUMENT_NODE)return this[0].documentElement["scroll"+f];if(!$.isWindow(this[0])){let a=this[0][("outer"===g?"offset":"client")+f];if(""===g||"outer"===g&&!0===c){const b=getComputedStyle(this[0]);h.forEach(c=>a+=parseFloat(b[(g?"margin":"padding")+c])*(g?1:-1))}return a}return"inner"===g?this[0].document.documentElement["client"+f]:this[0]["inner"+f]}}}),$.fn.trigger=function(a,b){for(let c=this.length;c--;){let d=$.isFunction(this[c][a]);if("submit"==a||!d){const e=new CustomEvent(a,{bubbles:!0,cancelable:!0});e.args=b,this[c].dispatchEvent(e),e.defaultPrevented&&(d=!1)}d&&this[c][a]()}return this},c.forEach(a=>{$.fn[a]=function(b,c){return b?this.on(a,b,c):this.trigger(a)}}),$.fn.off=function(a,b,c){if(this.length){if($.isFunction(b)&&(c=b,b=void 0),a&&!$.isPlainObject(a)){const b=a;a={},a[b]=c}for(let c=this.length;c--;)this[c].events.length&&(a?$.each(a,(a,d)=>{a.split(" ").forEach(a=>{this[c].events.forEach((e,f)=>{!(-1<e.event.indexOf(a))||d&&e.callback!==d||b&&e.selector!==b||(this[c].removeEventListener(a,e.func,{capture:!!e.selector}),this[c].events.splice(f,1))})})}):this[c].events.forEach(a=>{this[c].removeEventListener(a.event,a.func,{capture:!!a.selector}),this[c].events=[]}))}return this};const m=(a,b)=>{Object.assign(b.dataset,a.dataset),a.events&&a.events.forEach(a=>{$(b).on(a.events,a.selector,a.data,a.callback)})};$.fn.clone=function(a=!1,b=null){null===b&&(b=a);let c=this.length,d=[];for(;c--;)if(d[c]=this[c].cloneNode(!0),a&&m(this[c],d[c]),b){const a=this[c].querySelectorAll("*"),b=d[c].querySelectorAll("*");for(let c=a.length;c--;)m(a[c],b[c])}return $(d)},$.fn.empty=function(){for(let a=this.length;a--;)for(;this[a].firstChild&&this[a].removeChild(this[a].firstChild););return this},$.fn.html=function(a){if(a!==void 0){for(let c=this.length,d=b(this,a,a=>a.innerHTML);c--;)this[c].innerHTML=d[c];return this}return this[0]?this[0].innerHTML:void 0},$.each({before:"beforeBegin",prepend:"afterBegin",append:"beforeEnd",after:"afterEnd"},(a,c)=>{const d=-1<["prepend","after"].indexOf(a);$.fn[a]=function(...a){let e,f=this.length,g=f,h=$.isFunction(a[0]);for(h||(e=a.reduce((a,b)=>a.add(b),$()));f--;){h&&(e=b([this[f]],a[0],a=>a.innerHTML).reduce((a,b)=>a.add(b),$()));for(let a=e.length,b=-1;d?a--:++b<a;)this[f].insertAdjacentElement(c,f===g-1?e[d?a:b]:e.eq(d?a:b).clone(!0)[0])}return this}}),$.each({prependTo:"prepend",appendTo:"append",insertBefore:"before",insertAfter:"after"},(a,b)=>{$.fn[a]=function(a){return $(a)[b](this),this}}),["remove","detach"].forEach(b=>{$.fn[b]=function(c){let d=this.length,e=[];for(;d--;)(!c||a(this[d],c).length)&&e.push(this[d].parentNode.removeChild(this[d]));return"detach"===b?$(e):this}}),["replaceWith","replaceAll"].forEach(a=>{$.fn[a]=function(c){const d="replaceAll"===a,e=d?$(c):this;let f=d?this:c,g=$.isFunction(f),h=e.length;for(g||(f=$(f));h--;)for(let a=f.length,c=e[h].parentNode;a--;){const d=g?b(f[a],a,f[a]):f[a];a?e[h].insertAdjacentElement("beforebegin",$(d).clone(!0).get(0)):e[h]=c.replaceChild(h?$(d).clone(!0).get(0):d,e[h])}return this}}),$.fn.slice=function(a,b){return $(this.get().slice(a,b))},$.fn.text=function(a){let c=this.length,d=[];if(a!==void 0){for(const d=b(this,a,a=>a.textContent);c--;)this[c].textContent=d[c];return this}for(;c--;)d[c]=this[c].textContent;return d.join(" ")},$.fn.unwrap=function(a){return this.parent(a).not("body").each((a,b)=>{$(b.children).each((a,c)=>{b.parentNode.insertBefore(c,b)}),b.parentNode.removeChild(b)}),this},$.fn.eq=function(a){return $(this[0>a?a+this.length:a])},$.fn.wrapAll=function(a){if(this[0]){$.isFunction(a)&&(a=a.call(this[0]));let b=this.length,c=0,d=$(a).eq(0).clone(!0).get(0);for(this[0].parentNode.insertBefore(d,null);d.firstElementChild;)d=d.firstElementChild;for(;c<b;c++)d.appendChild(this[c])}return this},$.fn.wrap=function(a){for(let c=this.length,d=b(this,a);c--;)$(this[c]).wrapAll(d[c]);return this},$.fn.children=function(b){let c=[],d=this.length;for(;d--;)c=c.concat(Array.from(this[d].children));return $(b?a(c,b):c)},$.fn.closest=function(b,c){let d=this.length,e=[];for(;d--;)for(let f=this[d];f&&f.nodeType===Node.ELEMENT_NODE;){if(a(f,b,c).length){e.unshift(f);break}f=f.parentNode}return $(e)},$.fn.find=function(a){return $(a,this)},$.fn.first=function(){return $(this[0])},$.fn.has=function(a){return $(this.get().filter(b=>!!$(a,b).length))},$.fn.index=function(a){if(this[0]){let b,c,d=this[0];for(void 0===a?b=this[0].parentNode.children:"string"==typeof a?b=$(a):(b=this,d=$(a)[0]),c=b.length;c--;)if(b[c]===d)return c}return-1},$.fn.last=function(){return this.eq(-1)},["next","nextAll","nextUntil","prev","prevAll","prevUntil"].forEach(b=>{const c=-1<b.indexOf("x"),d=-1<b.indexOf("A"),e=-1<b.indexOf("U"),f=c?"nextElementSibling":"previousElementSibling";$.fn[b]=function(b,c){let g=[];for(let h,j=0,i=this.length;j<i;j++)for(h=this[j][f];h&&!(e&&a(h,b).length)&&(g.push(h),d||e);)h=h[f];return e&&(b=c),$(b?a(g,b):g)}}),$.fn.siblings=function(b){let c=this.length,d=[];for(;c--;)Array.from(this[c].parentNode.children).forEach(a=>{a!==this[c]&&d.push(a)});return $(b?a(d,b):d)};class n{constructor(a,b){this.obj=$(a),this.name=this.obj.attr("name"),this.rendered=!1,this.obj.on("focus",()=>{if(!this.rendered){b&&["min","max"].forEach(a=>{b[a]&&!(b[a]instanceof Date)&&(b[a]=new Date(b[a]))}),this.config=$.extend({type:"date",min:null,max:null,value:new Date,headings:["Hrs","Mins","Secs"],get:function(){return new Date},groupmin:1,groupsec:15,cls:"dcal"},b||{}),this.calendar=$("<div>",{class:this.config.cls+" "+this.config.cls+"--hide"});const a=this.config.cls+"__",c=$("<div>",{class:a+"calendar"});if(-1<this.config.type.indexOf("date")){const b=$("<div>",{class:a+"date"}),d=new Date().getFullYear(),e=$("<fieldset>",{class:a+"years"}),f=$("<fieldset>",{class:a+"months"}),g=$("<fieldset>",{class:a+"dates"});this.render(e,"year",d-2,d+2),b.append(e),this.render(f,"month",0,11,a=>{const b=new Date(2020,a,1,0,0,0);return b.toLocaleString("default",{month:"short"})}),b.append(f);const h=new Date(Date.UTC(2e3,13,12));for(let b=0;7>b;b++)g.append($("<div>",{class:a+"dates-days",text:h.toLocaleString("default",{weekday:"short"}).substr(0,2)})),h.setDate(h.getDate()+1);this.render(g,"dates",1,31),b.append(g),c.append(b)}if(-1<this.config.type.indexOf("time")){const b=$("<fieldset>",{class:a+"hours"}).append($("<h3>",{class:a+"heading",text:this.config.headings[0]})),d=$("<div>",{class:a+"group"}),e=$("<div>",{class:a+"group"}),f=$("<fieldset>",{class:a+"mins"}).append($("<h3>",{class:a+"heading",text:this.config.headings[1]})),g=$("<div>",{class:a+"group"}),h=$("<div>",{class:a+"group"}),i=$("<fieldset>",{class:a+"secs"}).append($("<h3>",{class:a+"heading",text:this.config.headings[2]})),j=$("<div>",{class:a+"group"}),k=a=>a.toString().padStart(2,"0");if(this.render(d,"hours",0,11,k),this.render(e,"hours",12,23,k),b.append(d).append(e),c.append(b),this.render(g,"min1",0,5),this.render(h,"min2",0,9),f.append(g).append(h),c.append(f),this.config.groupsec)this.render(j,"sec",0,3,a=>(15*a).toString().padStart(2,"0")),i.append(j);else{const b=$("<div>",{class:a+"group"});this.render(j,"sec1",0,4),this.render(b,"sec2",5,9),f.append(j).append(b),c.append(i)}c.append(i)}this.obj.after(this.calendar.append(c)),this.rendered=!0}this.calendar.addClass(this.cls+"calendar--show")}),this.obj.on("unfocus",()=>{this.calendar.removeClass(this.cls+"calendar--show")})}set(a){const b=this.config.cls+"__";if(-1<this.config.type.indexOf("date")&&$("."+b+"months ."+b+"control",this.calendar).removeClass(b+"control--on").eq(a.getMonth()).addClass(b+"control--on"),-1<this.config.type.indexOf("time")){let c={hours:"getHour",minutes:"getMinute"};this.config.groupsec&&(c.seconds="getSecond"),$.each(c,(c,d)=>{$("."+b+d+" ."+b+"control",this.calendar).removeClass(b+"control--on").eq(a[c]()).addClass(b+"control--on")})}}get(){}update(){const a=[];-1<this.config.type.indexOf("date")&&(a.push("year"),a.push("month"),a.push("day")),-1<this.config.type.indexOf("time")&&(a.push("hour"),a.push("minute"),a.push("second"));const b={};a.forEach(a=>{console.log(this.name+"-"+a,$("input[type=radio][name="+this.name+"-"+a+"]:checked",this.obj.next())),b[a]=$("input[type=radio][name="+this.name+"-"+a+"]:checked",this.obj.next()).val()}),console.log(b)}show(){this.calendar.removeClass(this.config.cls+"calendar--hide")}hide(){this.calendar.addClass(this.config.cls+"calendar--hide")}render(a,b,c,d,e){for(let f=c;f<=d;f++)a.append($("<input>",{type:"radio",name:this.name+"-"+b,id:this.name+"-"+b+"-"+f,value:f,class:this.config.cls+"__control-radio",change:()=>this.update()})).append($("<label>",{class:this.config.cls+"__control",for:this.name+"-"+b+"-"+f,text:e?e(f):f.toString()}))}}$.fn.dcal=function(){for(let a=this.length;a--;){const b=$(this[a]),c=$.extend({type:"date"},b.data("dcal")||{});new n(b,c)}};
